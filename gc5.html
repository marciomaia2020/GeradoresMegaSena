<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Combina√ß√µes - Mega Sena (5 D√≠gitos)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- SheetJS para exporta√ß√£o Excel -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
	
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1B9A67',
                        'mega-green': '#1B9A67',
                        'mega-light-green': '#2BAE73',
                        'mega-dark-green': '#149954',
                        'mega-cream': '#F0FFF4'
                    }
                }
            },
            darkMode: 'class'
        }
    </script>
<style>
 body, html {
        height: 100%;
        margin: 0;
    }

    .menu-centro {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem 0;
        gap: 2rem;
    }

    .menu-analises {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .menu-numeros {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.5rem;
        max-width: 600px;
    }

    .link-analise {
        text-decoration: none;
        color: black;
        padding: 12px 20px;
        border-radius: 8px;
        transition: all 0.3s ease;
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
        font-weight: 600;
        text-align: center;
        min-width: 180px;
        display: block;
    }
	   .link-analise1 {
        text-decoration: none;
        color: green;
        padding: 12px 20px;
        border-radius: 8px;
        transition: all 0.3s ease;
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
        font-weight: 600;
        text-align: center;
        min-width: 180px;
        display: block;
    }

    .link-numero {
        text-decoration: none;
        color: black;
        padding: 8px 12px;
        border-radius: 6px;
        transition: all 0.3s ease;
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
        font-weight: 600;
        text-align: center;
        min-width: 40px;
        display: block;
    }

    .link-analise:hover,
    .link-numero:hover {
        animation: alternaCores 1s infinite alternate;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
	.link-analise1:hover,
    .link-numero:hover {
        animation: alternaCores 1s infinite alternate;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    @keyframes alternaCores {
        0% {
            background-color: #e6f7ff;
        }
        100% {
            background-color: #1B9A67;
        }
    }

    /* Dark mode styles */
    .dark .link-analise,
    .dark .link-numero {
        background-color: #374151;
        border-color: #4b5563;
        color: #f9fafb;
    }

    .dark .link-analise:hover,
    .dark .link-numero:hover {
        animation: alternaCoresdark 1s infinite alternate;
    }


    @keyframes alternaCoresdark {
        0% {
            background-color: #064e3b;
        }
        100% {
            background-color: #1B9A67;
        }
    }
</style>

</head>
<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen">
    <!-- Detec√ß√£o de tema escuro -->
    <script>
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>

    <!-- Layout com sidebar e conte√∫do principal -->
    <div class="flex flex-col md:flex-row">
        <!-- Barra lateral com links -->
        <div class="w-full md:w-64 bg-gray-100 dark:bg-gray-800 p-4 md:min-h-screen">
            <div class="mb-6">
                <h3 class="text-lg font-bold mb-3 text-primary dark:text-green-400">Ferramentas Mega Sena</h3>
                <div class="space-y-1">
                    <a href="./index.html" class="block py-1 px-2 rounded bg-primary/10 text-primary dark:text-green-400 font-bold">Gerador de Combina√ß√µes</a>
                    
					<div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">AN√ÅLISES PRINCIPAIS</div>
					<a href="./ResultadosDigitosMegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Resultados D√≠gitos</a>
					<a href="./AnaliseCombinacoesMS/" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">An√°lise por Combina√ß√£o</a>
                    <a href="./AnalisadorCombinacoesJogosMS/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Analisador Combina√ß√µes</a>
                    <a href="./MegaSenaConferidor/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Conferidor Mega Sena</a>
					<a href="./MegaSenaConferidor1/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Conferidor (Espec√≠fico)</a>

					<div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">ESTRAT√âGIAS</div>
                    <a href="./CombinacaoDoisMegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Combina√ß√£o D√≠gitos</a>
					<a href="./AnaliseCombinacoesResultadosMS/" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">An√°lise de Combina√ß√µes</a>
                    <a href="./ConfAutoMaisQue1MegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Conferidor Autom√°tico</a>
					<a href="./ResumoMegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Resumo</a>
                    <a href="./MegaSenaEstrategias/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Estrat√©gias</a>
                    <a href="./GeradorFinalMegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Gerador Final</a>
					
					<div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">D√çGITOS</div>
                    <a href="./GeradorBaseadoEmDigitosMegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Baseado em D√≠gitos</a>
                    
					<div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">CALCULADORA</div>
                    <a href="./CalculadoraCustoMS/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Calculadora de Custos</a>

                    <div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">CONFERIDORES</div>
                    <a href="./ConfAuto1MegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Conferidor Autom√°tico 1</a>
                    
                    <div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">AN√ÅLISES AVAN√áADAS</div>
                    <a href="./MegaSenaDesdobramento/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Desdobramento</a>
                    <a href="./ResultadosAlteradosMegaSena/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Resultados Alterados</a>
                    
                    <div class="mt-3 mb-1 text-sm font-bold text-gray-600 dark:text-gray-400">OUTROS</div>
                    <a href="./MegaSenaCal/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Calculadora</a>
                    <a href="./MegaSenaCom/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Comiss√£o</a>
                    <a href="./MegaSenaCur/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Curiosidades</a>
                    <a href="./MegaSenaIa/index.html" target="_blank" class="block py-1 px-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700">Intelig√™ncia Artificial</a>
                </div>
            </div>
        </div>
		

<!-- Conte√∫do principal -->
        <div class="flex-1 p-4">
            <h1 class="text-2xl font-bold text-center mb-6">Gerador de Combina√ß√µes - Mega Sena (TODAS as combina√ß√µes)</h1>
            
			<hr />
				<div class="menu-centro">
					<!-- Primeira linha: Links especiais -->
					<div class="menu-analises">
						<a href="index-pares-impares-ms.html/" target="_blank" class="link-analise">Pares Vs √çmpares</a>
						<a href="index-combinacoes-melhores-ms.html/" target="_blank" class="link-analise">Combina√ß√µes (Melhores)</a>
						<a href="index-combinacoes-todas-ms.html/" target="_blank" class="link-analise1">Combina√ß√µes (Todas) *</a>
					    <a href="index-combinacoes-analise-ms.html/" target="_blank" class="link-analise1">Combina√ß√µes (An√°lise) *</a>
					</div>
					
					<!-- Segunda linha: N√∫meros 1-10 -->
					
					<div class="menu-numeros">
					    <p class="intro">Combina√ß√µes</p>
						<a href="index1-ms.html/" target="_blank" class="link-numero">1</a>
						<a href="index2-ms.html/" target="_blank" class="link-numero">2</a>
						<a href="index3-ms.html/" target="_blank" class="link-numero">3</a>
						<a href="index4-ms.html/" target="_blank" class="link-numero">4</a>
						<a href="index5-ms.html" target="_blank" class="link-numero">5</a>
						<a href="index6-ms.html" target="_blank" class="link-numero">6</a>
						<a href="index7-ms.html/" target="_blank" class="link-numero">7</a>
						<a href="index8-ms.html/" target="_blank" class="link-numero">8</a>
						<a href="index9-ms.html/" target="_blank" class="link-numero">9</a>
						<a href="index10-ms.html/" target="_blank" class="link-numero">10</a>
					</div>
					<!-- Terceira linha: N√∫meros Gerador de Combina√ß√µes do 03 ao 09 -->
				
					<div class="menu-numeros">
						<p class="intro">Gerador Pro</p>
						<a href="#/" target="_blank" class="link-numero">?</a>
						<a href="#/" target="_blank" class="link-numero">?</a>
						<a href="#/" target="_blank" class="link-numero">?</a>
						<a href="gc4-ms.html/" target="_blank" class="link-numero">4</a>
						<a href="gc5-ms.html" target="_blank" class="link-numero">5</a>
						<a href="gc6-ms.html" target="_blank" class="link-numero">6</a>
						<a href="gc7-ms.html/" target="_blank" class="link-numero">7</a>
						<a href="gc8-ms.html/" target="_blank" class="link-numero">8</a>
						<a href="gc9-ms.html/" target="_blank" class="link-numero">9</a>
						<a href="gc10-ms.html/" target="_blank" class="link-numero">10</a>
					</div>
				</div>
			<hr />

<!-- Header -->
<header class="bg-gradient-to-r from-mega-green to-mega-light-green shadow-lg">
    <div class="container mx-auto px-4 py-6">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <i class="fas fa-dice text-white text-3xl"></i>
                <div>
                    <h1 class="text-white text-2xl font-bold">Gerador Mega Sena Pro (5 D√≠gitos)</h1>
                    <p class="text-green-100 text-sm">6.176.940 jogos - TODAS as 252 combina√ß√µes de 5 d√≠gitos</p>
                </div>
            </div>
            <div class="text-white text-right">
                <p class="text-sm">√öltimo sorteio:</p>
                <p id="last-draw" class="font-semibold">Carregando...</p>
            </div>
        </div>
    </div>
</header>

<div class="container mx-auto px-4 py-8">
    <!-- Configura√ß√£o do Jogo -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
            <i class="fas fa-cog text-mega-green mr-3"></i>
            Configura√ß√£o dos Jogos (5 D√≠gitos)
        </h2>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Coluna 1 -->
            <div class="space-y-6">
                <!-- Quantidade de Jogos -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Quantos jogos voc√™ pretende fazer?
                    </label>
                    <input type="number" id="num-games" min="10" max="6176940" value="6176940" placeholder="Digite de 10 a 6.176.940"
                           class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-mega-green focus:border-transparent dark:bg-gray-700 dark:text-white">
                    <div class="mt-2 space-y-1">
                        <p class="text-xs text-gray-500">M√°ximo: 6.176.940 jogos (TODAS as 252 combina√ß√µes de 5 d√≠gitos)</p>
                        <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mt-3">
                            <h4 class="text-sm font-semibold text-blue-800 dark:text-blue-300 mb-2">üìä Distribui√ß√£o das 252 Combina√ß√µes de 5 D√≠gitos:</h4>
                            <div class="grid grid-cols-1 gap-2 text-xs">
                                <div class="text-center font-bold text-purple-600">C(10,5) = 252 combina√ß√µes √∫nicas</div>
                                <div class="text-center">‚Ä¢ 21 combina√ß√µes premium √ó 160.160 = 3.363.360 jogos</div>
                                <div class="text-center">‚Ä¢ 20 combina√ß√µes alta √ó 90.090 = 1.801.800 jogos</div>
                                <div class="text-center">‚Ä¢ 15 combina√ß√µes m√©dia-alta √ó 48.048 = 720.720 jogos</div>
                                <div class="text-center">‚Ä¢ 35 combina√ß√µes m√©dia √ó 4.620 = 161.700 jogos</div>
                                <div class="text-center">‚Ä¢ 65 combina√ß√µes padr√£o √ó 1.680 = 109.200 jogos</div>
                                <div class="text-center">‚Ä¢ 40 combina√ß√µes b√°sica √ó 504 = 20.160 jogos</div>
                                <div class="text-center">‚Ä¢ Estrat√©gia avan√ßada: Volume robusto para experts</div>
                            </div>
                            <div class="text-xs font-bold text-blue-800 dark:text-blue-300 mt-2 border-t pt-2">
                                Total: 6.176.940 jogos √∫nicos poss√≠veis (5 d√≠gitos Mega Sena)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dezenas Fixas -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Dezenas Fixas (opcional)
                    </label>
                    <div class="grid grid-cols-6 gap-2 mb-3">
                        <div id="fixed-numbers" class="col-span-6 grid grid-cols-10 gap-1">
                            <!-- N√∫meros de 1 a 60 ser√£o gerados aqui -->
                        </div>
                    </div>
                    <p class="text-xs text-gray-500">Selecione at√© 2 dezenas fixas para jogos de 5 d√≠gitos</p>
                </div>

                <!-- Quantidade de N√∫meros -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                        Quantidade de n√∫meros por jogo
                    </label>
                    <select id="numbers-count" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-mega-green focus:border-transparent dark:bg-gray-700 dark:text-white">
                        <option value="6">6 n√∫meros - R$ 5,00 (1 aposta) ‚≠ê Recomendado para 5 d√≠gitos</option>
                        <option value="7">7 n√∫meros - R$ 35,00 (7 apostas)</option>
                        <option value="8">8 n√∫meros - R$ 140,00 (28 apostas)</option>
                        <option value="9">9 n√∫meros - R$ 420,00 (84 apostas)</option>
                        <option value="10">10 n√∫meros - R$ 1.050,00 (210 apostas)</option>
                        <option value="11">11 n√∫meros - R$ 2.310,00 (462 apostas)</option>
                        <option value="12">12 n√∫meros - R$ 4.620,00 (924 apostas)</option>
                        <option value="custom">Valor personalizado</option>
                    </select>
                    
                    <!-- Campo de valor personalizado -->
                    <div id="custom-value-container" class="hidden mt-3">
                        <label class="block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1">
                            Valor por jogo (R$)
                        </label>
                        <input type="number" id="custom-value" min="5.00" max="50000" step="0.01" value="5.00"
                               class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-mega-green focus:border-transparent dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <p class="text-xs text-gray-500 mt-1">Valor total: <span id="total-value">R$ 30.884.700,00</span></p>
                    
                    <!-- Info sobre 5 d√≠gitos -->
                    <div class="mt-2 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3">
                        <p class="text-xs text-green-700 dark:text-green-300">
                            <i class="fas fa-star text-yellow-500 mr-1"></i>
                            <strong>5 d√≠gitos</strong> oferecem estrat√©gia avan√ßada para a Mega Sena.
                            Volume robusto ideal para jogadores experientes!
                        </p>
                    </div>
                </div>
            </div>

            <!-- Coluna 2 -->
            <div class="space-y-6">
                <!-- Crit√©rios -->
                <div>
                    <div class="flex items-center justify-between mb-3">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">
                            Crit√©rios de Filtragem (5 D√≠gitos)
                        </label>
                        <button onclick="showStrategyModal()" class="text-mega-green hover:text-mega-dark-green text-sm underline">
                            <i class="fas fa-info-circle mr-1"></i>
                            Como funciona?
                        </button>
                    </div>
                    <div class="grid grid-cols-1 gap-2 max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-lg p-3">
                        <!-- Grupo: Frequ√™ncia de N√∫meros -->
                        <div class="border-b border-gray-100 dark:border-gray-700 pb-2 mb-2">
                            <h4 class="text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2">FREQU√äNCIA DE N√öMEROS</h4>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-frequent" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Priorizar dezenas mais sorteadas</span>
                                <span id="criteria-frequent-info" class="hidden ml-2 text-xs font-semibold text-green-600">(7.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-less-frequent" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Evitar dezenas menos sorteadas</span>
                                <span id="criteria-less-frequent-info" class="hidden ml-2 text-xs font-semibold text-green-600">(11.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="criteria-avoid-last" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Evitar dezenas do √∫ltimo sorteio</span>
                                <span id="criteria-avoid-last-info" class="hidden ml-2 text-xs font-semibold text-green-600">(4.5% de redu√ß√£o)</span>
                            </label>
                        </div>

                        <!-- Grupo: Equil√≠brio -->
                        <div class="border-b border-gray-100 dark:border-gray-700 pb-2 mb-2">
                            <h4 class="text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2">EQUIL√çBRIO</h4>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-balance" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Equil√≠brio entre pares e √≠mpares</span>
                                <span id="criteria-balance-info" class="hidden ml-2 text-xs font-semibold text-green-600">(13.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-avoid-extremes" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Evitar extremos (todos pares/√≠mpares)</span>
                                <span id="criteria-avoid-extremes-info" class="hidden ml-2 text-xs font-semibold text-green-600">(9.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="criteria-clusters" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Distribuir por grupos (1-20, 21-40, 41-60)</span>
                                <span id="criteria-clusters-info" class="hidden ml-2 text-xs font-semibold text-green-600">(20.0% de redu√ß√£o)</span>
                            </label>
                        </div>

                        <!-- Grupo: Padr√µes -->
                        <div class="border-b border-gray-100 dark:border-gray-700 pb-2 mb-2">
                            <h4 class="text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2">PADR√ïES</h4>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-no-sequence" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Evitar sequ√™ncias longas (1-2-3-4)</span>
                                <span id="criteria-no-sequence-info" class="hidden ml-2 text-xs font-semibold text-green-600">(17.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-sum-range" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Somas dentro de faixa (150-240)</span>
                                <span id="criteria-sum-range-info" class="hidden ml-2 text-xs font-semibold text-green-600">(27.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="criteria-repeated-pairs" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Evitar pares repetidos do √∫ltimo sorteio</span>
                                <span id="criteria-repeated-pairs-info" class="hidden ml-2 text-xs font-semibold text-green-600">(6.0% de redu√ß√£o)</span>
                            </label>
                        </div>

                        <!-- Grupo: Avan√ßado -->
                        <div class="border-b border-gray-100 dark:border-gray-700 pb-2 mb-2">
                            <h4 class="text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2">AVAN√áADO</h4>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-mathematical" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Fechamento matem√°tico</span>
                                <span id="criteria-mathematical-info" class="hidden ml-2 text-xs font-semibold text-green-600">(37.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-fibonacci" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Evitar sequ√™ncia Fibonacci</span>
                                <span id="criteria-fibonacci-info" class="hidden ml-2 text-xs font-semibold text-green-600">(13.5% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="criteria-prime-numbers" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Balancear n√∫meros primos</span>
                                <span id="criteria-prime-numbers-info" class="hidden ml-2 text-xs font-semibold text-green-600">(9.5% de redu√ß√£o)</span>
                            </label>
                        </div>

                        <!-- Grupo: D√≠gitos Mais Utilizados -->
                        <div>
                            <h4 class="text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2">D√çGITOS MAIS UTILIZADOS</h4>
                            <label class="flex items-center mb-1">
                                <input type="checkbox" id="criteria-most-used-digits" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Disponibilizar o conjunto de d√≠gitos mais utilizados</span>
                                <span id="criteria-most-used-digits-info" class="hidden ml-2 text-xs font-semibold text-green-600">(55.0% de redu√ß√£o)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="criteria-least-used-digits" class="w-3 h-3 text-mega-green bg-gray-100 border-gray-300 rounded focus:ring-mega-green">
                                <span class="ml-2 text-xs text-gray-700 dark:text-gray-300">Disponibilizar o conjunto de d√≠gitos menos utilizados</span>
                                <span id="criteria-least-used-digits-info" class="hidden ml-2 text-xs font-semibold text-green-600">(27.5% de redu√ß√£o)</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calculadora Din√¢mica de Jogos -->
        <div class="mt-6 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 border-2 border-blue-200 dark:border-blue-700 rounded-xl p-6">
            <h3 class="text-lg font-bold text-center text-blue-800 dark:text-blue-300 mb-4">
                üéØ Calculadora Inteligente de Jogos - TODAS as 252 Combina√ß√µes de 5 D√≠gitos
            </h3>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                <div class="text-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-blue-200 dark:border-blue-700">
                    <div class="text-sm text-gray-600 dark:text-gray-400">Total M√°ximo</div>
                    <div class="text-2xl font-bold text-blue-600">6.176.940</div>
                    <div class="text-xs text-gray-500">252 combina√ß√µes de 5 d√≠gitos</div>
                </div>
                
                <div class="text-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-green-200 dark:border-green-700">
                    <div class="text-sm text-gray-600 dark:text-gray-400">Jogos Estimados</div>
                    <div id="estimated-games" class="text-2xl font-bold text-green-600">6.176.940</div>
                    <div class="text-xs text-gray-500">baseado nos filtros</div>
                </div>
                
                <div class="text-center p-3 bg-white dark:bg-gray-800 rounded-lg border border-orange-200 dark:border-orange-700">
                    <div class="text-sm text-gray-600 dark:text-gray-400">Redu√ß√£o</div>
                    <div id="reduction-percentage" class="text-2xl font-bold text-orange-600">0%</div>
                    <div class="text-xs text-gray-500">economia inteligente</div>
                </div>
            </div>
            
            <!-- Barra de Progresso da Redu√ß√£o -->
            <div class="mb-4">
                <div class="flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1">
                    <span>Redu√ß√£o de Jogos</span>
                    <span id="reduction-info">0 jogos eliminados</span>
                </div>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4">
                    <div id="reduction-bar" class="bg-gradient-to-r from-green-500 to-orange-500 h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            
            <!-- Crit√©rios Ativos -->
            <div id="active-criteria" class="mb-4 hidden">
                <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Crit√©rios Ativos:</div>
                <div id="active-criteria-list" class="flex flex-wrap gap-2"></div>
            </div>
            
            <!-- Distribui√ß√£o de Volumes -->
            <div class="mb-4 bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200">
                <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3">Distribui√ß√£o por Volume de Jogos:</h4>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-3 text-xs">
                    <div class="text-center p-2 bg-purple-50 dark:bg-purple-900/20 rounded">
                        <div class="font-bold text-purple-600">160.160 jogos</div>
                        <div class="text-gray-600 dark:text-gray-400">21 combina√ß√µes premium</div>
                    </div>
                    <div class="text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded">
                        <div class="font-bold text-blue-600">90.090 jogos</div>
                        <div class="text-gray-600 dark:text-gray-400">20 combina√ß√µes alta</div>
                    </div>
                    <div class="text-center p-2 bg-green-50 dark:bg-green-900/20 rounded">
                        <div class="font-bold text-green-600">48.048 jogos</div>
                        <div class="text-gray-600 dark:text-gray-400">15 combina√ß√µes m√©dia-alta</div>
                    </div>
                    <div class="text-center p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded">
                        <div class="font-bold text-yellow-600">4.620 jogos</div>
                        <div class="text-gray-600 dark:text-gray-400">35 combina√ß√µes m√©dia</div>
                    </div>
                    <div class="text-center p-2 bg-orange-50 dark:bg-orange-900/20 rounded">
                        <div class="font-bold text-orange-600">1.680 jogos</div>
                        <div class="text-gray-600 dark:text-gray-400">65 combina√ß√µes padr√£o</div>
                    </div>
                    <div class="text-center p-2 bg-red-50 dark:bg-red-900/20 rounded">
                        <div class="font-bold text-red-600">504 jogos</div>
                        <div class="text-gray-600 dark:text-gray-400">40 combina√ß√µes b√°sica</div>
                    </div>
                </div>
            </div>
            
            <!-- Valor Total Estimado -->
            <div class="text-center p-3 bg-gradient-to-r from-mega-green to-mega-light-green rounded-lg text-white">
                <div class="text-sm opacity-90">Investimento Estimado</div>
                <div id="estimated-investment" class="text-xl font-bold">R$ 30.884.700,00</div>
            </div>
        </div>

        <!-- Bot√£o Gerar -->
        <div class="mt-8 text-center">
            <button id="generate-btn" class="bg-gradient-to-r from-mega-green to-mega-light-green text-white px-8 py-4 rounded-lg font-semibold text-lg hover:from-mega-dark-green hover:to-mega-green transition-all duration-300 shadow-lg hover:shadow-xl">
                <i class="fas fa-magic mr-2"></i>
                Gerar 6.176.940 Jogos (5 D√≠gitos)
            </button>
			<p class="mt-2 text-sm text-gray-600 dark:text-gray-400">Confira <a href="https://geradoresdiadesorte.netlify.app/diadesorteconferidor/" target="_blank" class="text-mega-green hover:underline">aqui</a> os melhores palpites</p>
        </div>
    </div>

    <!-- Resultados -->
    <div id="results-section" class="hidden">
        <!-- Estat√≠sticas e Busca -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 mb-6">
            <div class="flex flex-col lg:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-6">
                    <div class="text-center">
                        <p class="text-sm text-gray-600 dark:text-gray-400">Total de Jogos</p>
                        <p id="total-games" class="text-2xl font-bold text-mega-green">0</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-600 dark:text-gray-400">Investimento</p>
                        <p id="total-investment" class="text-2xl font-bold text-green-600">R$ 0,00</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-600 dark:text-gray-400">Apostas Totais</p>
                        <p id="total-bets" class="text-2xl font-bold text-blue-600">0</p>
                    </div>
                </div>
                
                <!-- Busca -->
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="Digite n√∫meros (ex: 11 17 20 22)..." 
                               class="pl-10 pr-4 py-2 text-base border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-mega-green focus:border-transparent dark:bg-gray-700 dark:text-white">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                    <!-- Bot√µes de Export -->
                    <div class="flex space-x-2">
                        <button onclick="exportToTXT()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center">
                            <i class="fas fa-file-alt mr-2"></i>
                            TXT
                        </button>
                        <button onclick="exportToXLS()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center">
                            <i class="fas fa-file-excel mr-2"></i>
                            XLS
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Jogos -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6">
            <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-6 flex items-center">
                <i class="fas fa-list text-mega-green mr-3"></i>
                Seus Jogos Gerados (5 D√≠gitos)
            </h3>
            
            <div id="games-container" class="space-y-4">
                <!-- Jogos ser√£o inseridos aqui -->
            </div>

            <!-- Pagina√ß√£o -->
            <div id="pagination" class="flex justify-center items-center mt-8 space-x-2">
                <!-- Controles de pagina√ß√£o -->
            </div>
        </div>
    </div>
</div>

<script>
    // Configura√ß√£o do tema
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.classList.add('dark');
    }
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
        if (event.matches) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    });

    // Vari√°veis globais
    let allGames = [];
    let filteredGames = [];
    let currentPage = 1;
    const gamesPerPage = 20;

    // ===== TODAS as 252 combina√ß√µes de 5 d√≠gitos =====
    const ALL_5_DIGIT_COMBINATIONS = [
        [0,1,2,3,4], [0,1,2,3,5], [0,1,2,3,6], [0,1,2,3,7], [0,1,2,3,8], [0,1,2,3,9],
        [0,1,2,4,5], [0,1,2,4,6], [0,1,2,4,7], [0,1,2,4,8], [0,1,2,4,9],
        [0,1,2,5,6], [0,1,2,5,7], [0,1,2,5,8], [0,1,2,5,9],
        [0,1,2,6,7], [0,1,2,6,8], [0,1,2,6,9],
        [0,1,2,7,8], [0,1,2,7,9],
        [0,1,2,8,9],
        [0,1,3,4,5], [0,1,3,4,6], [0,1,3,4,7], [0,1,3,4,8], [0,1,3,4,9],
        [0,1,3,5,6], [0,1,3,5,7], [0,1,3,5,8], [0,1,3,5,9],
        [0,1,3,6,7], [0,1,3,6,8], [0,1,3,6,9],
        [0,1,3,7,8], [0,1,3,7,9],
        [0,1,3,8,9],
        [0,1,4,5,6], [0,1,4,5,7], [0,1,4,5,8], [0,1,4,5,9],
        [0,1,4,6,7], [0,1,4,6,8], [0,1,4,6,9],
        [0,1,4,7,8], [0,1,4,7,9],
        [0,1,4,8,9],
        [0,1,5,6,7], [0,1,5,6,8], [0,1,5,6,9],
        [0,1,5,7,8], [0,1,5,7,9],
        [0,1,5,8,9],
        [0,1,6,7,8], [0,1,6,7,9],
        [0,1,6,8,9],
        [0,1,7,8,9],
        [0,2,3,4,5], [0,2,3,4,6], [0,2,3,4,7], [0,2,3,4,8], [0,2,3,4,9],
        [0,2,3,5,6], [0,2,3,5,7], [0,2,3,5,8], [0,2,3,5,9],
        [0,2,3,6,7], [0,2,3,6,8], [0,2,3,6,9],
        [0,2,3,7,8], [0,2,3,7,9],
        [0,2,3,8,9],
        [0,2,4,5,6], [0,2,4,5,7], [0,2,4,5,8], [0,2,4,5,9],
        [0,2,4,6,7], [0,2,4,6,8], [0,2,4,6,9],
        [0,2,4,7,8], [0,2,4,7,9],
        [0,2,4,8,9],
        [0,2,5,6,7], [0,2,5,6,8], [0,2,5,6,9],
        [0,2,5,7,8], [0,2,5,7,9],
        [0,2,5,8,9],
        [0,2,6,7,8], [0,2,6,7,9],
        [0,2,6,8,9],
        [0,2,7,8,9],
        [0,3,4,5,6], [0,3,4,5,7], [0,3,4,5,8], [0,3,4,5,9],
        [0,3,4,6,7], [0,3,4,6,8], [0,3,4,6,9],
        [0,3,4,7,8], [0,3,4,7,9],
        [0,3,4,8,9],
        [0,3,5,6,7], [0,3,5,6,8], [0,3,5,6,9],
        [0,3,5,7,8], [0,3,5,7,9],
        [0,3,5,8,9],
        [0,3,6,7,8], [0,3,6,7,9],
        [0,3,6,8,9],
        [0,3,7,8,9],
        [0,4,5,6,7], [0,4,5,6,8], [0,4,5,6,9],
        [0,4,5,7,8], [0,4,5,7,9],
        [0,4,5,8,9],
        [0,4,6,7,8], [0,4,6,7,9],
        [0,4,6,8,9],
        [0,4,7,8,9],
        [0,5,6,7,8], [0,5,6,7,9],
        [0,5,6,8,9],
        [0,5,7,8,9],
        [0,6,7,8,9],
        [1,2,3,4,5], [1,2,3,4,6], [1,2,3,4,7], [1,2,3,4,8], [1,2,3,4,9],
        [1,2,3,5,6], [1,2,3,5,7], [1,2,3,5,8], [1,2,3,5,9],
        [1,2,3,6,7], [1,2,3,6,8], [1,2,3,6,9],
        [1,2,3,7,8], [1,2,3,7,9],
        [1,2,3,8,9],
        [1,2,4,5,6], [1,2,4,5,7], [1,2,4,5,8], [1,2,4,5,9],
        [1,2,4,6,7], [1,2,4,6,8], [1,2,4,6,9],
        [1,2,4,7,8], [1,2,4,7,9],
        [1,2,4,8,9],
        [1,2,5,6,7], [1,2,5,6,8], [1,2,5,6,9],
        [1,2,5,7,8], [1,2,5,7,9],
        [1,2,5,8,9],
        [1,2,6,7,8], [1,2,6,7,9],
        [1,2,6,8,9],
        [1,2,7,8,9],
        [1,3,4,5,6], [1,3,4,5,7], [1,3,4,5,8], [1,3,4,5,9],
        [1,3,4,6,7], [1,3,4,6,8], [1,3,4,6,9],
        [1,3,4,7,8], [1,3,4,7,9],
        [1,3,4,8,9],
        [1,3,5,6,7], [1,3,5,6,8], [1,3,5,6,9],
        [1,3,5,7,8], [1,3,5,7,9],
        [1,3,5,8,9],
        [1,3,6,7,8], [1,3,6,7,9],
        [1,3,6,8,9],
        [1,3,7,8,9],
        [1,4,5,6,7], [1,4,5,6,8], [1,4,5,6,9],
        [1,4,5,7,8], [1,4,5,7,9],
        [1,4,5,8,9],
        [1,4,6,7,8], [1,4,6,7,9],
        [1,4,6,8,9],
        [1,4,7,8,9],
        [1,5,6,7,8], [1,5,6,7,9],
        [1,5,6,8,9],
        [1,5,7,8,9],
        [1,6,7,8,9],
        [2,3,4,5,6], [2,3,4,5,7], [2,3,4,5,8], [2,3,4,5,9],
        [2,3,4,6,7], [2,3,4,6,8], [2,3,4,6,9],
        [2,3,4,7,8], [2,3,4,7,9],
        [2,3,4,8,9],
        [2,3,5,6,7], [2,3,5,6,8], [2,3,5,6,9],
        [2,3,5,7,8], [2,3,5,7,9],
        [2,3,5,8,9],
        [2,3,6,7,8], [2,3,6,7,9],
        [2,3,6,8,9],
        [2,3,7,8,9],
        [2,4,5,6,7], [2,4,5,6,8], [2,4,5,6,9],
        [2,4,5,7,8], [2,4,5,7,9],
        [2,4,5,8,9],
        [2,4,6,7,8], [2,4,6,7,9],
        [2,4,6,8,9],
        [2,4,7,8,9],
        [2,5,6,7,8], [2,5,6,7,9],
        [2,5,6,8,9],
        [2,5,7,8,9],
        [2,6,7,8,9],
        [3,4,5,6,7], [3,4,5,6,8], [3,4,5,6,9],
        [3,4,5,7,8], [3,4,5,7,9],
        [3,4,5,8,9],
        [3,4,6,7,8], [3,4,6,7,9],
        [3,4,6,8,9],
        [3,4,7,8,9],
        [3,5,6,7,8], [3,5,6,7,9],
        [3,5,6,8,9],
        [3,5,7,8,9],
        [3,6,7,8,9],
        [4,5,6,7,8], [4,5,6,7,9],
        [4,5,6,8,9],
        [4,5,7,8,9],
        [4,6,7,8,9],
        [5,6,7,8,9]
    ];

    // Total m√°ximo de jogos para 5 d√≠gitos = 6.176.940
    const MAX_TOTAL_GAMES = 6176940;

    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', function() {
        initializeApp();
    });

    function initializeApp() {
        createFixedNumbersGrid();
        setupEventListeners();
        updateTotalValue();
    }

    function createFixedNumbersGrid() {
        const container = document.getElementById('fixed-numbers');
        for (let i = 1; i <= 60; i++) {
            const button = document.createElement('button');
            button.type = 'button';
            button.className = 'w-8 h-8 text-xs border border-gray-300 dark:border-gray-600 rounded hover:bg-mega-green hover:text-white transition-all duration-200 dark:text-white';
            button.textContent = i.toString().padStart(2, '0');
            button.dataset.number = i;
            button.onclick = toggleFixedNumber;
            container.appendChild(button);
        }
    }

    function toggleFixedNumber(event) {
        const button = event.target;
        const selectedButtons = document.querySelectorAll('#fixed-numbers button.bg-mega-green');
        
        if (button.classList.contains('bg-mega-green')) {
            button.classList.remove('bg-mega-green', 'text-white');
            button.classList.add('hover:bg-mega-green', 'hover:text-white');
        } else if (selectedButtons.length < 2) { // M√°ximo 2 para jogos de 5 d√≠gitos
            button.classList.add('bg-mega-green', 'text-white');
            button.classList.remove('hover:bg-mega-green', 'hover:text-white');
        } else {
            showAlert('Voc√™ pode selecionar no m√°ximo 2 dezenas fixas para jogos de 5 d√≠gitos.');
        }
        updateCalculator();
    }

    function setupEventListeners() {
        document.getElementById('num-games').addEventListener('input', updateTotalValue);
        document.getElementById('numbers-count').addEventListener('change', updateTotalValue);
        document.getElementById('generate-btn').addEventListener('click', generateGames);
        document.getElementById('search-input').addEventListener('input', filterGames);
        document.getElementById('custom-value').addEventListener('input', updateTotalValue);
        
        // Event listeners para os crit√©rios de filtragem
        document.querySelectorAll('input[type="checkbox"][id^="criteria-"]').forEach(checkbox => {
            checkbox.addEventListener('change', calculateEstimatedGames);
        });
    }

    function updateTotalValue() {
        const numGames = parseInt(document.getElementById('num-games').value) || 0;
        const numbersCount = document.getElementById('numbers-count').value;
        
        let price = 5.00; // Pre√ßo padr√£o para 6 n√∫meros (Mega Sena)
        
        if (numbersCount === 'custom') {
            document.getElementById('custom-value-container').classList.remove('hidden');
            price = parseFloat(document.getElementById('custom-value').value) || 5.00;
        } else {
            document.getElementById('custom-value-container').classList.add('hidden');
            
            const gameData = {
                6: { price: 5.00, bets: 1 },
                7: { price: 35.00, bets: 7 },
                8: { price: 140.00, bets: 28 },
                9: { price: 420.00, bets: 84 },
                10: { price: 1050.00, bets: 210 },
                11: { price: 2310.00, bets: 462 },
                12: { price: 4620.00, bets: 924 }
            };
            
            const data = gameData[parseInt(numbersCount)] || gameData[6];
            price = data.price;
        }
        
        const total = numGames * price;
        document.getElementById('total-value').textContent = `R$ ${total.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
        
        updateCalculator();
        calculateEstimatedGames();
    }

    function updateCalculator() {
        const numGames = parseInt(document.getElementById('num-games').value) || 0;
        const coverage = Math.min((numGames / MAX_TOTAL_GAMES) * 100, 100).toFixed(1);
        
        document.getElementById('estimated-games').textContent = numGames.toLocaleString();
        document.getElementById('coverage-percentage').textContent = `${coverage}%`;
        
        const numbersCount = document.getElementById('numbers-count').value;
        let price = 5.00;
        if (numbersCount === 'custom') {
            price = parseFloat(document.getElementById('custom-value').value) || 5.00;
        } else {
            const gameData = {
                6: 5.00, 7: 35.00, 8: 140.00, 9: 420.00, 10: 1050.00, 11: 2310.00, 12: 4620.00
            };
            price = gameData[parseInt(numbersCount)] || 5.00;
        }
        
        const investment = numGames * price;
        document.getElementById('estimated-investment').textContent = `R$ ${investment.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
    }

    // ===== SISTEMA DIN√ÇMICO DE REDU√á√ÉO EM TEMPO REAL =====
    function calculateEstimatedGames() {
        const baseGames = MAX_TOTAL_GAMES; // Base: TODAS as combina√ß√µes
        let reductionFactor = 1.0;
        const activeCriteria = [];
        
        // Definir fatores de redu√ß√£o para cada crit√©rio (espec√≠ficos para 5 d√≠gitos)
        const reductionFactors = {
            'criteria-frequent': { factor: 0.93, name: 'Mais Sorteadas', reduction: '7.0%' },
            'criteria-less-frequent': { factor: 0.89, name: 'Evitar Menos Frequentes', reduction: '11.0%' },
            'criteria-avoid-last': { factor: 0.955, name: 'Evitar √öltimo Sorteio', reduction: '4.5%' },
            'criteria-balance': { factor: 0.87, name: 'Equilibrio Par/√çmpar', reduction: '13.0%' },
            'criteria-avoid-extremes': { factor: 0.91, name: 'Evitar Extremos', reduction: '9.0%' },
            'criteria-clusters': { factor: 0.80, name: 'Distribuir Grupos', reduction: '20.0%' },
            'criteria-no-sequence': { factor: 0.83, name: 'Evitar Sequ√™ncias', reduction: '17.0%' },
            'criteria-sum-range': { factor: 0.73, name: 'Faixa de Soma (150-240)', reduction: '27.0%' },
            'criteria-repeated-pairs': { factor: 0.94, name: 'Evitar Pares Repetidos', reduction: '6.0%' },
            'criteria-mathematical': { factor: 0.63, name: 'Fechamento Matem√°tico', reduction: '37.0%' },
            'criteria-fibonacci': { factor: 0.865, name: 'Evitar Fibonacci', reduction: '13.5%' },
            'criteria-prime-numbers': { factor: 0.905, name: 'Balancear Primos', reduction: '9.5%' },
            'criteria-most-used-digits': { factor: 0.45, name: 'D√≠gitos Mais Usados', reduction: '55.0%' },
            'criteria-least-used-digits': { factor: 0.725, name: 'D√≠gitos Menos Usados', reduction: '27.5%' }
        };
        
        // Atualizar informa√ß√µes inline para cada crit√©rio
        Object.keys(reductionFactors).forEach(criteriaId => {
            const checkbox = document.getElementById(criteriaId);
            const infoSpan = document.getElementById(criteriaId + '-info');
            
            if (checkbox && infoSpan) {
                if (checkbox.checked) {
                    // Mostrar informa√ß√£o espec√≠fica do crit√©rio
                    const criteria = reductionFactors[criteriaId];
                    infoSpan.textContent = `(${criteria.reduction} de redu√ß√£o)`;
                    infoSpan.classList.remove('hidden');
                    
                    // Aplicar fator de redu√ß√£o
                    reductionFactor *= criteria.factor;
                    activeCriteria.push(criteria);
                } else {
                    // Ocultar informa√ß√£o
                    infoSpan.classList.add('hidden');
                }
            }
        });
        
        // Calcular jogos estimados
        const estimatedGames = Math.round(baseGames * reductionFactor);
        const totalReduction = baseGames - estimatedGames;
        const reductionPercentage = ((totalReduction / baseGames) * 100).toFixed(1);
        
        // Calcular investimento estimado
        const numbersCount = document.getElementById('numbers-count').value;
        let price = 5.00;
        if (numbersCount === 'custom') {
            price = parseFloat(document.getElementById('custom-value').value) || 5.00;
        } else {
            const gameData = {
                6: 5.00, 7: 35.00, 8: 140.00, 9: 420.00, 10: 1050.00, 11: 2310.00, 12: 4620.00
            };
            price = gameData[parseInt(numbersCount)] || 5.00;
        }
        const estimatedInvestment = estimatedGames * price;
        
        // Atualizar interface
        updateDynamicCalculator(estimatedGames, reductionPercentage, totalReduction, estimatedInvestment, activeCriteria);
        updateGenerateButton(`Gerar ${estimatedGames.toLocaleString()} Jogos${reductionPercentage > 0 ? ` (-${reductionPercentage}%)` : ''}`);
    }
    
    function updateDynamicCalculator(estimatedGames, reductionPercentage, totalReduction, estimatedInvestment, activeCriteria) {
        // Atualizar n√∫meros principais
        document.getElementById('estimated-games').textContent = estimatedGames.toLocaleString();
        document.getElementById('reduction-percentage').textContent = `${reductionPercentage}%`;
        document.getElementById('reduction-info').textContent = `${totalReduction.toLocaleString()} jogos eliminados`;
        document.getElementById('estimated-investment').textContent = `R$ ${estimatedInvestment.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
        
        // Atualizar barra de progresso
        document.getElementById('reduction-bar').style.width = `${Math.min(parseFloat(reductionPercentage), 100)}%`;
        
        // Mostrar/ocultar crit√©rios ativos
        const activeCriteriaSection = document.getElementById('active-criteria');
        const activeCriteriaList = document.getElementById('active-criteria-list');
        
        if (activeCriteria.length > 0) {
            activeCriteriaSection.classList.remove('hidden');
            activeCriteriaList.innerHTML = activeCriteria.map(criteria => 
                `<span class="px-2 py-1 bg-mega-green text-white text-xs rounded-full">
                    ${criteria.name} ${criteria.reduction}
                </span>`
            ).join('');
        } else {
            activeCriteriaSection.classList.add('hidden');
        }
        
        // Animar mudan√ßas
        const elements = ['estimated-games', 'reduction-percentage', 'estimated-investment'];
        elements.forEach(id => {
            const element = document.getElementById(id);
            element.style.transform = 'scale(1.05)';
            element.style.transition = 'transform 0.2s ease';
            setTimeout(() => {
                element.style.transform = 'scale(1)';
            }, 200);
        });
    }

    function updateGenerateButton(text) {
        const button = document.getElementById('generate-btn');
        button.innerHTML = `<i class="fas fa-magic mr-2"></i>${text}`;
    }

    function showStrategyModal() {
        // Criar modal se n√£o existir
        if (!document.getElementById('strategy-modal')) {
            const modalHTML = `
                <div id="strategy-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-2xl font-bold text-gray-800 dark:text-white flex items-center">
                                    <i class="fas fa-brain text-mega-green mr-3"></i>
                                    Como Funcionam as Estrat√©gias (5 D√≠gitos)
                                </h2>
                                <button onclick="hideStrategyModal()" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                    <i class="fas fa-times text-2xl"></i>
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Coluna 1 -->
                                <div class="space-y-4">
                                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                        <h3 class="font-semibold text-mega-green mb-2">üìä Frequ√™ncia de N√∫meros</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Mais sorteadas:</strong> Prioriza n√∫meros que sa√≠ram mais vezes no hist√≥rico.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Menos sorteadas:</strong> Evita n√∫meros que sa√≠ram poucas vezes.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300">
                                            <strong>Evitar √∫ltimo sorteio:</strong> N√£o repete n√∫meros do concurso anterior.
                                        </p>
                                    </div>

                                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                        <h3 class="font-semibold text-mega-green mb-2">‚öñÔ∏è Equil√≠brio</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Pares/√çmpares:</strong> Mant√©m propor√ß√£o equilibrada (ex: 3 pares, 3 √≠mpares).
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Evitar extremos:</strong> N√£o gera jogos com todos pares ou todos √≠mpares.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300">
                                            <strong>Grupos:</strong> Distribui n√∫meros entre faixas (1-20, 21-40, 41-60).
                                        </p>
                                    </div>

                                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                        <h3 class="font-semibold text-mega-green mb-2">üî¢ 5 D√≠gitos - Estrat√©gia Avan√ßada</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            Ideal para jogadores experientes:
                                        </p>
                                        <ul class="text-xs text-gray-500 dark:text-gray-400 space-y-1">
                                            <li>‚Ä¢ 252 combina√ß√µes √∫nicas</li>
                                            <li>‚Ä¢ 6.176.940 jogos m√°ximos</li>
                                            <li>‚Ä¢ Volume robusto para experts</li>
                                            <li>‚Ä¢ Estrat√©gia avan√ßada completa</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Coluna 2 -->
                                <div class="space-y-4">
                                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                        <h3 class="font-semibold text-mega-green mb-2">üéØ Padr√µes</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Sequ√™ncias:</strong> Evita n√∫meros consecutivos como 1-2-3-4.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Soma (150-240):</strong> Faixa ideal para 5 d√≠gitos na Mega Sena.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300">
                                            <strong>Pares repetidos:</strong> Evita duplas que sa√≠ram no √∫ltimo sorteio.
                                        </p>
                                    </div>

                                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                        <h3 class="font-semibold text-mega-green mb-2">üßÆ Avan√ßado</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Fechamento:</strong> Garante premia√ß√£o m√≠nima com menos jogos.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                                            <strong>Fibonacci:</strong> Evita sequ√™ncia matem√°tica 1-1-2-3-5-8-13.
                                        </p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300">
                                            <strong>N√∫meros primos:</strong> Balanceia quantidade de primos no jogo.
                                        </p>
                                    </div>

                                    <div class="bg-mega-cream dark:bg-gray-900 p-4 rounded-lg border border-mega-green">
                                        <h3 class="font-semibold text-mega-green mb-2">üí° D√≠gitos Mais/Menos Utilizados</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-300">
                                            Baseado em an√°lise hist√≥rica real dos √∫ltimos d√≠gitos mais sorteados na Mega Sena. 
                                            <strong>5 d√≠gitos</strong> oferecem volume robusto ideal 
                                            para jogadores experientes.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-6 text-center">
                                <button onclick="hideStrategyModal()" class="bg-mega-green text-white px-6 py-2 rounded-lg hover:bg-mega-dark-green transition-colors">
                                    Entendi, vamos gerar jogos de 5 d√≠gitos!
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }
        document.getElementById('strategy-modal').classList.remove('hidden');
    }

    function hideStrategyModal() {
        document.getElementById('strategy-modal').classList.add('hidden');
    }

    async function generateGames() {
        const numGames = parseInt(document.getElementById('num-games').value);
        
        if (!numGames || numGames < 10 || numGames > MAX_TOTAL_GAMES) {
            showAlert(`N√∫mero de jogos inv√°lido. Digite entre 10 e ${MAX_TOTAL_GAMES.toLocaleString()} jogos.`);
            return;
        }

        showLoading(true);
        
        try {
            const config = getGameConfig();
            allGames = [];

            const batchSize = 1000;
            const batches = Math.ceil(numGames / batchSize);

            for (let batch = 0; batch < batches; batch++) {
                const batchStart = batch * batchSize;
                const batchEnd = Math.min(batchStart + batchSize, numGames);
                const batchGames = [];

                for (let i = batchStart; i < batchEnd; i++) {
                    const game = generateSingleGame(config);
                    batchGames.push({
                        id: i + 1,
                        numbers: game.numbers,
                        sum: game.numbers.reduce((a, b) => a + b, 0)
                    });
                }

                allGames.push(...batchGames);

                if (batch < batches - 1) {
                    await new Promise(resolve => setTimeout(resolve, 10));
                }
            }

            filteredGames = [...allGames];
            currentPage = 1;
            displayResults();
            
        } catch (error) {
            console.error('Erro ao gerar jogos:', error);
            showAlert('Erro ao gerar jogos. Tente novamente.');
        } finally {
            showLoading(false);
        }
    }

    function getGameConfig() {
        const fixedNumbers = Array.from(document.querySelectorAll('#fixed-numbers button.bg-mega-green'))
            .map(btn => parseInt(btn.dataset.number));
        
        return {
            fixedNumbers
        };
    }

    function generateSingleGame(config) {
        let numbers = [...config.fixedNumbers];
        const targetNumbers = parseInt(document.getElementById('numbers-count').value) || 6;
        
        // Selecionar combina√ß√£o de 5 d√≠gitos aleat√≥ria
        const randomCombination = ALL_5_DIGIT_COMBINATIONS[Math.floor(Math.random() * ALL_5_DIGIT_COMBINATIONS.length)];
        
        // Converter d√≠gitos para n√∫meros do jogo (1-60)
        const availableNumbers = [];
        for (let i = 1; i <= 60; i++) {
            if (!numbers.includes(i)) {
                const lastDigit = i % 10;
                if (randomCombination.includes(lastDigit)) {
                    availableNumbers.push(i);
                }
            }
        }

        // Completar o jogo
        while (numbers.length < targetNumbers && availableNumbers.length > 0) {
            const index = Math.floor(Math.random() * availableNumbers.length);
            const selectedNumber = availableNumbers.splice(index, 1)[0];
            numbers.push(selectedNumber);
        }

        // Se precisar completar com mais n√∫meros
        while (numbers.length < targetNumbers) {
            const remaining = [];
            for (let i = 1; i <= 60; i++) {
                if (!numbers.includes(i)) remaining.push(i);
            }
            if (remaining.length === 0) break;
            
            const randomIndex = Math.floor(Math.random() * remaining.length);
            numbers.push(remaining[randomIndex]);
        }

        numbers.sort((a, b) => a - b);

        return { numbers };
    }

    function filterGames() {
        const searchTerm = document.getElementById('search-input').value.trim();
        
        if (!searchTerm) {
            filteredGames = [...allGames];
        } else {
            const searchNumbers = [];
            const cleanSearch = searchTerm.replace(/[,-]/g, ' ');
            const parts = cleanSearch.split(/\s+/).filter(part => part.length > 0);
            
            for (const part of parts) {
                const num = parseInt(part);
                if (!isNaN(num) && num >= 1 && num <= 60) {
                    searchNumbers.push(num);
                }
            }
            
            if (searchNumbers.length > 0) {
                filteredGames = allGames.filter(game => {
                    return searchNumbers.every(searchNum => game.numbers.includes(searchNum));
                });
            } else {
                filteredGames = allGames.filter(game => {
                    return game.id.toString().includes(searchTerm);
                });
            }
        }
        
        currentPage = 1;
        displayGames();
        updatePagination();
    }

    function displayResults() {
        document.getElementById('results-section').classList.remove('hidden');
        document.getElementById('total-games').textContent = allGames.length.toLocaleString();
        
        const numbersCount = parseInt(document.getElementById('numbers-count').value) || 6;
        const gameData = {
            6: { price: 5.00, bets: 1 },
            7: { price: 35.00, bets: 7 },
            8: { price: 140.00, bets: 28 },
            9: { price: 420.00, bets: 84 },
            10: { price: 1050.00, bets: 210 },
            11: { price: 2310.00, bets: 462 },
            12: { price: 4620.00, bets: 924 }
        };
        
        const data = gameData[numbersCount] || gameData[6];
        const investment = allGames.length * data.price;
        const totalBets = allGames.length * data.bets;
        
        document.getElementById('total-investment').textContent = 
            `R$ ${investment.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
        document.getElementById('total-bets').textContent = totalBets.toLocaleString();
        
        displayGames();
        updatePagination();
    }

    function displayGames() {
        const container = document.getElementById('games-container');
        const startIndex = (currentPage - 1) * gamesPerPage;
        const endIndex = startIndex + gamesPerPage;
        const gamesToShow = filteredGames.slice(startIndex, endIndex);

        container.innerHTML = gamesToShow.map(game => {
            return `
                <div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow duration-300">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-4">
                            <span class="text-sm font-medium text-gray-500 dark:text-gray-400">Jogo #${game.id}</span>
                            <div class="flex space-x-2">
                                ${game.numbers.map(num => 
                                    `<span class="w-8 h-8 bg-gradient-to-br from-mega-green to-mega-light-green text-white rounded-full flex items-center justify-center text-sm font-bold">${num.toString().padStart(2, '0')}</span>`
                                ).join('')}
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm text-gray-600 dark:text-gray-400">Soma</div>
                            <div class="font-semibold text-mega-green">${game.sum}</div>
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }

    function updatePagination() {
        const totalPages = Math.ceil(filteredGames.length / gamesPerPage);
        const container = document.getElementById('pagination');
        
        if (totalPages <= 1) {
            container.innerHTML = '';
            return;
        }

        let paginationHTML = '';
        
        if (currentPage > 1) {
            paginationHTML += `
                <button onclick="changePage(${currentPage - 1})" 
                        class="px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600">
                    <i class="fas fa-chevron-left"></i>
                </button>
            `;
        }

        const startPage = Math.max(1, currentPage - 2);
        const endPage = Math.min(totalPages, currentPage + 2);

        for (let i = startPage; i <= endPage; i++) {
            const activeClass = i === currentPage ? 'bg-mega-green text-white' : 'bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600';
            paginationHTML += `
                <button onclick="changePage(${i})" 
                        class="px-3 py-2 text-sm ${activeClass} border border-gray-300 dark:border-gray-600 rounded-md">
                    ${i}
                </button>
            `;
        }

        if (currentPage < totalPages) {
            paginationHTML += `
                <button onclick="changePage(${currentPage + 1})" 
                        class="px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600">
                    <i class="fas fa-chevron-right"></i>
                </button>
            `;
        }

        container.innerHTML = paginationHTML;
    }

    function changePage(page) {
        currentPage = page;
        displayGames();
        updatePagination();
    }

    function showLoading(show) {
        const loading = document.getElementById('loading');
        if (loading) {
            loading.classList.toggle('hidden', !show);
        }
    }

    function showAlert(message) {
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
        modal.innerHTML = `
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                <div class="flex items-center mb-4">
                    <i class="fas fa-info-circle text-mega-green text-xl mr-3"></i>
                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Aviso</h3>
                </div>
                <p class="text-gray-700 dark:text-gray-300 mb-6">${message}</p>
                <div class="flex justify-end">
                    <button class="px-4 py-2 bg-mega-green text-white hover:bg-mega-dark-green rounded transition-colors" 
                            onclick="this.closest('.fixed').remove()">
                        OK
                    </button>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
    }

// Fun√ß√£o para exportar para TXT
function exportToTXT() {
    if (allGames.length === 0) {
        showAlert('Nenhum jogo foi gerado ainda!');
        return;
    }

    let txtContent = '';
    allGames.forEach(game => {
        const numbersStr = game.numbers.map(n => n.toString().padStart(2, '0')).join(' ');
        txtContent += `${numbersStr}\n`;
    });

    const blob = new Blob([txtContent], { type: 'text/plain' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `mega-sena-5-digitos-jogos-${new Date().toISOString().split('T')[0]}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
}

// Fun√ß√£o para exportar para XLS (CSV)
function exportToXLS() {
    if (allGames.length === 0) {
        showAlert('Nenhum jogo foi gerado ainda!');
        return;
    }

    let csvContent = '\uFEFFN√∫meros\n';
    allGames.forEach(game => {
        const numbersStr = game.numbers.map(n => n.toString().padStart(2, '0')).join(' ');
        csvContent += `"${numbersStr}"\n`;
    });

    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `mega-sena-5-digitos-jogos-${new Date().toISOString().split('T')[0]}.csv`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
}

    // Loading modal
    const loadingHTML = `
        <div id="loading" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-mega-green mx-auto mb-4"></div>
                <p class="text-gray-700 dark:text-gray-300">Gerando seus jogos de 5 d√≠gitos...</p>
            </div>
        </div>
    `;
    document.body.insertAdjacentHTML('beforeend', loadingHTML);
</script>
	</body>
</html>